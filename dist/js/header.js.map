{"version":3,"names":[],"mappings":"","sources":["header.js"],"sourcesContent":["let openMenuBtn = document.querySelector('.menu-button');\nlet headerIs = document.querySelector('.header');\nopenMenuBtn?.addEventListener('click', () => headerIs?.classList.toggle('open-header'));\n\n\n// let menuContainer = document.querySelector('header'); // або інший контейнер\nlet menuItems = document.querySelectorAll('.menu-item');\nlet filteredMenuItems = Array.from(menuItems).filter(item => {\n    // Перевіряємо, чи елемент не знаходиться всередині .sub-menu\n    return !item.closest('.sub-menu');\n  });\n\n// console.log(filteredMenuItems);\n\nmenuItems.forEach(item => {\n    item.classList.add('sanimate', 'fadeInLeft');\n})\n\n\n// closeMenuBtn.addEventListener('click', ()=>{\n//     headerIs.classList.remove('open-header')\n// });\n\n\n\n// let dropdownTriggers = document.querySelectorAll('.dropup');\n\n// dropdownTriggers.forEach((item, e)=>{\n//     item.addEventListener('click', (e)=>{\n//         // console.log(item);\n        \n//         if(item.classList.contains(\"open\")){\n//             item.classList.remove(\"open\");\n//         } else {\n//             item.classList.add(\"open\");\n//         }\n\n//     })\n// });\n\nlet dropdownTriggers = document.querySelectorAll('.menu-item-has-children');\n\nfunction toggleDropdowns() {\n    // Check screen width\n    if (window.innerWidth < 760) {\n        dropdownTriggers.forEach((item) => {\n            // If the event listener is not already added, add it\n            if (!item.classList.contains('listener-added')) {\n                item.addEventListener('click', toggleDropdown);\n                item.classList.add('listener-added');\n            }\n        });\n    } else {\n        // Remove event listeners if screen width is greater than or equal to 760px\n        dropdownTriggers.forEach((item) => {\n            if (item.classList.contains('listener-added')) {\n                item.removeEventListener('click', toggleDropdown);\n                item.classList.remove('listener-added');\n            }\n        });\n    }\n}\n\nfunction toggleDropdown(e) {\n    let item = e.currentTarget;\n    item?.classList.toggle('open');\n}\n\n// Initial load\ntoggleDropdowns();\n\n// Handle window resize\nwindow.addEventListener('resize', toggleDropdowns);\n\n\n\n\nlet lastScrollTop = 0;\nlet header = document.querySelector('.header');\nlet debounceTimeout;\nlet scrollThreshold = 5; // Поріг прокрутки, щоб не реагувати на невеликі зміни\n\nwindow.addEventListener('scroll', function() {\n    clearTimeout(debounceTimeout);\n\n    debounceTimeout = setTimeout(() => {\n        let scrollTop = window.scrollY || document.documentElement.scrollTop;\n\n        if (Math.abs(scrollTop - lastScrollTop) <= scrollThreshold) {\n            // Ігноруємо невеликі зміни прокрутки\n            return;\n        }\n\n        if (scrollTop > lastScrollTop) {\n            // Прокрутка вниз\n            header.classList.add('hidden');\n        } else {\n            // Прокрутка вгору\n            header.classList.remove('hidden');\n        }\n\n        lastScrollTop = scrollTop;\n    }, 100); // Збільшена затримка для більш плавного ефекту\n});\n\n\nvar navIcons = document.querySelectorAll('#nav-icon');\nnavIcons.forEach(function(icon) {\n    icon.addEventListener('click', function() {\n        this.classList.toggle('open');\n    });\n});\n\n\nheaderIs.querySelectorAll('.menu-item-has-children').forEach(li => {\n    li.addEventListener('mouseenter', e => {\n        let sub = li.querySelector('.sub-menu');\n        let {left: offsetLeft, width: subWidth} = sub.getBoundingClientRect();\n        let width = window.innerWidth;\n        let mustOffsetRight = 80;\n        let diff = (subWidth + offsetLeft + mustOffsetRight) - width;\n\n        if (0 < diff){\n            sub.style.left = `${parseFloat(getComputedStyle(sub)['left']) - diff}px`;\n        }\n    });\n});\n\n\n// let lastScrollTop = 0;\n// let header = document.querySelector('.header');\n// let debounceTimeout;\n// let scrollThreshold = 5;\n\n// window.addEventListener('scroll', () => {\n//     let scrollTop = window.scrollY;\n\n//     if (Math.abs(scrollTop - lastScrollTop) <= scrollThreshold) {\n//     // Ігноруємо невеликі зміни прокрутки\n//         return;\n//     }\n\n//     if (scrollTop > lastScrollTop){\n//         header.classList.add('hidden');\n//         return;\n//     }\n//     header.classList.remove('hidden');\n\n//     lastScrollTop = scrollTop;\n// });\n\ndocument.querySelectorAll('.back-image').forEach(block => {\n    let {\n        bg: bgImage,\n        bgMob: mobImage\n    } = block.dataset;\n    let url = `url(${window.innerWidth <= 760 ? mobImage : bgImage})`;\n    block.style.backgroundImage = url;\n});\n\nlet blocks = document.querySelectorAll('.scroll.sanimate');\nlet clientsSlides = document.querySelectorAll('.clients-slider > .slide.sanimate');\n\nclientsSlides.forEach((slide, index) => {\n    slide.style.animationDelay = `${index * 170}ms`;\n});\n\nlet observerCallback = (entries, observer) => {\n    entries.forEach(entry => {\n        if (entry.isIntersecting) {\n            entry.target.classList.add('fadeInUp');\n            observer.unobserve(entry.target);\n        }\n    });\n};\n\nblocks.forEach(block => {\n    new IntersectionObserver(observerCallback, {\n        threshold: 0.3\n    }).observe(block);\n});\n\nclientsSlides.forEach(block => {\n    new IntersectionObserver(observerCallback, {\n        threshold: 0.4\n    }).observe(block);\n});\n\nlet allTexts = document.querySelectorAll('p, h2');\nallTexts?.forEach(item => {\n    if (!item.closest('.main-slider'))\n        item.classList.add('sanimate', 'fadeInUp');\n});"],"file":"header.js"}