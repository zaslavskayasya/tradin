{"version":3,"names":[],"mappings":"","sources":["header.js"],"sourcesContent":["let openMenuBtn = document.querySelector('.menu-button');\r\nlet headerIs = document.querySelector('.header');\r\nopenMenuBtn?.addEventListener('click', () => headerIs?.classList.toggle('open-header'));\r\n\r\n\r\nlet menuItems = document.querySelectorAll('.menu-item');\r\nlet filteredMenuItems = Array.from(menuItems).filter(item => {\r\n    // Перевіряємо, чи елемент не знаходиться всередині .sub-menu\r\n    return !item.closest('.sub-menu');\r\n  });\r\n\r\n// console.log(filteredMenuItems);\r\n\r\nfilteredMenuItems.forEach(item => {\r\n    item.classList.add('sanimate', 'fadeInLeft');\r\n})\r\n\r\n\r\nlet dropdownTriggers = document.querySelectorAll('.menu-item-has-children');\r\n\r\nfunction toggleDropdowns() {\r\n    // Check screen width\r\n    if (window.innerWidth < 760) {\r\n        dropdownTriggers.forEach((item) => {\r\n            // If the event listener is not already added, add it\r\n            if (!item.classList.contains('listener-added')) {\r\n                item.addEventListener('click', toggleDropdown);\r\n                item.classList.add('listener-added');\r\n            }\r\n        });\r\n    } else {\r\n        // Remove event listeners if screen width is greater than or equal to 760px\r\n        dropdownTriggers.forEach((item) => {\r\n            if (item.classList.contains('listener-added')) {\r\n                item.removeEventListener('click', toggleDropdown);\r\n                item.classList.remove('listener-added');\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction toggleDropdown(e) {\r\n    let item = e.currentTarget;\r\n    item?.classList.toggle('open');\r\n}\r\n\r\n// Initial load\r\ntoggleDropdowns();\r\n\r\n// Handle window resize\r\nwindow.addEventListener('resize', toggleDropdowns);\r\n\r\n\r\n\r\n\r\nlet lastScrollTop = 0;\r\nlet header = document.querySelector('.header');\r\nlet debounceTimeout;\r\nlet scrollThreshold = 5; // Поріг прокрутки, щоб не реагувати на невеликі зміни\r\n\r\nwindow.addEventListener('scroll', function() {\r\n    clearTimeout(debounceTimeout);\r\n\r\n    debounceTimeout = setTimeout(() => {\r\n        let scrollTop = window.scrollY || document.documentElement.scrollTop;\r\n\r\n        if (Math.abs(scrollTop - lastScrollTop) <= scrollThreshold) {\r\n            // Ігноруємо невеликі зміни прокрутки\r\n            return;\r\n        }\r\n\r\n        if (scrollTop > lastScrollTop) {\r\n            // Прокрутка вниз\r\n            header.classList.add('hidden');\r\n        } else {\r\n            // Прокрутка вгору\r\n            header.classList.remove('hidden');\r\n        }\r\n\r\n        lastScrollTop = scrollTop;\r\n    }, 100); // Збільшена затримка для більш плавного ефекту\r\n});\r\n\r\n\r\nvar navIcons = document.querySelectorAll('#nav-icon');\r\nnavIcons.forEach(function(icon) {\r\n    icon.addEventListener('click', function() {\r\n        this.classList.toggle('open');\r\n    });\r\n});\r\n\r\n\r\nheaderIs.querySelectorAll('.menu-item-has-children').forEach(li => {\r\n    li.addEventListener('mouseenter', e => {\r\n        let sub = li.querySelector('.sub-menu');\r\n        let {left: offsetLeft, width: subWidth} = sub.getBoundingClientRect();\r\n        let width = window.innerWidth;\r\n        let mustOffsetRight = 80;\r\n        let diff = (subWidth + offsetLeft + mustOffsetRight) - width;\r\n\r\n        if (0 < diff){\r\n            sub.style.left = `${parseFloat(getComputedStyle(sub)['left']) - diff}px`;\r\n        }\r\n    });\r\n});\r\n\r\ndocument.querySelectorAll('.back-image').forEach(block => {\r\n    let {\r\n        bg: bgImage,\r\n        bgMob: mobImage\r\n    } = block.dataset;\r\n    let url = `url(${window.innerWidth <= 760 ? mobImage : bgImage})`;\r\n    block.style.backgroundImage = url;\r\n});\r\n\r\nlet blocks = document.querySelectorAll('.scroll.sanimate');\r\nlet clientsSlides = document.querySelectorAll('.clients-slider > .slide.sanimate');\r\n\r\nclientsSlides.forEach((slide, index) => {\r\n    slide.style.animationDelay = `${index * 170}ms`;\r\n});\r\n\r\nlet observerCallback = (entries, observer) => {\r\n    entries.forEach(entry => {\r\n        if (entry.isIntersecting) {\r\n            entry.target.classList.add('fadeInUp');\r\n            observer.unobserve(entry.target);\r\n        }\r\n    });\r\n};\r\n\r\nblocks.forEach(block => {\r\n    new IntersectionObserver(observerCallback, {\r\n        threshold: 0.3\r\n    }).observe(block);\r\n});\r\n\r\nclientsSlides.forEach(block => {\r\n    new IntersectionObserver(observerCallback, {\r\n        threshold: 0.4\r\n    }).observe(block);\r\n});\r\n\r\nlet allTexts = document.querySelectorAll('p, h2');\r\nallTexts?.forEach(item => {\r\n    if (!item.closest('.main-slider'))\r\n        item.classList.add('sanimate', 'fadeInUp');\r\n});"],"file":"header.js"}